#!/usr/bin/env node
/*! oporrak 2023-05-16 */
import debug from"debug";import http from"http";import app from"../app";import{puerto}from"../config/settings";const normalizePort=r=>{var e=parseInt(r,10);return Number.isNaN(e)?r:0<=e&&e},port=normalizePort(puerto||"4600"),server=(app.set("port",port),http.createServer(app)),onError=r=>{if("listen"!==r.syscall)throw r;var e="string"==typeof port?"Pipe "+port:"Port "+port;switch(r.code){case"EACCES":console.log(e+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.log(e+" is already in use"),process.exit(1);break;default:throw r}},onListening=()=>{var r=server.address(),r="string"==typeof r?"pipe "+r:"port "+r.port;console.log("Listening on "+r)};server.listen(port),server.on("error",onError),server.on("listening",onListening);