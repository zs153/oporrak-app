/*! oporrak 2023-05-20 */
const getCookie=t=>{let l="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(l=e.split("=")[1])}),l},setCookie=(e,t,l)=>{let o="";var n;l&&((n=new Date).setTime(n.getTime()+24*l*60*60*1e3),o="; expires="+n.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path=/"},deleteCookie=()=>{document.cookie="filtro1=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},sortTableByColumn=(document.querySelectorAll(".sortable th").forEach(o=>{o.addEventListener("click",()=>{var e=o.parentElement.parentElement.parentElement,t=Array.prototype.indexOf.call(o.parentElement.children,o),l=o.classList.contains("th-sort-asc");sortTableByColumn(e,t,!l)})}),(e,l,t=!0)=>{const o=t?1:-1;var n,i=e.tBodies[0];for(n of Array.from(i.querySelectorAll("tr")).sort((e,t)=>{e=e.cells[l].textContent;return t.cells[l].textContent<e?o:-1*o}))i.appendChild(n);e.querySelectorAll("th").forEach(e=>e.classList.remove("th-sort-asc","th-sort-desc")),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-asc",t),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-desc",!t)}),buildTable=e=>{const o=document.getElementById("table-body");o.innerHTML="",e.map(e=>{var t=document.createElement("tr");let l=document.createElement("td");l.classList.add("w-4"),l.innerHTML='<input class="form-check-input m-0 align-middle" type="checkbox" aria-label="Select invoice">',t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.NOMUSU}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-20"),l.innerHTML=`<div class="d-flex align-items-center">
      <div class="flex-fill">
        <div class="font-weight-medium">${e.DESOFI}</div>
      </div>
    </div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-0"),l.style.display="none",l.value=e.IDUSUA,t.appendChild(l),o.appendChild(t)})},addUsuarios=()=>{let t=[];document.querySelectorAll("input[type=checkbox]").forEach(e=>{e.checked&&t.push(e.parentNode.parentNode.cells[3].value)}),document.getElementById("arrusu").value=JSON.stringify(t)},elemBuscar=document.getElementById("buscarUserBox"),elemAdd=(elemBuscar.onchange=e=>{setCookie("filtro1",e.target.value,.5)},elemBuscar.value=getCookie("filtro1"),document.getElementById("add"));elemAdd.setAttribute("action","/admin/cursos/usuarios/insert?part="+getCookie("filtro1")),buildTable(orgList);