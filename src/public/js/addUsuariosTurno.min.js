/*! oporrak 2023-05-16 */
const getCookie=t=>{let l="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(l=e.split("=")[1])}),l},setCookie=(e,t,l)=>{let s="";var a;l&&((a=new Date).setTime(a.getTime()+24*l*60*60*1e3),s="; expires="+a.toUTCString()),document.cookie=e+"="+(t||"")+s+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},sortTableByColumn=(document.querySelectorAll(".sortable th").forEach(s=>{s.addEventListener("click",()=>{var e=s.parentElement.parentElement.parentElement,t=Array.prototype.indexOf.call(s.parentElement.children,s),l=s.classList.contains("th-sort-asc");sortTableByColumn(e,t,!l)})}),(e,l,t=!0)=>{const s=t?1:-1;var a,r=e.tBodies[0];for(a of Array.from(r.querySelectorAll("tr")).sort((e,t)=>{e=e.cells[l].textContent;return t.cells[l].textContent<e?s:-1*s}))r.appendChild(a);e.querySelectorAll("th").forEach(e=>e.classList.remove("th-sort-asc","th-sort-desc")),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-asc",t),e.querySelector(`th:nth-child(${l+1})`).classList.toggle("th-sort-desc",!t)}),buildTable=e=>{const s=document.getElementById("table-body");s.innerHTML="",e.map(e=>{var t=document.createElement("tr");let l=document.createElement("td");l.classList.add("w-4"),l.innerHTML='<input class="form-check-input m-0 align-middle" type="checkbox" aria-label="Select invoice">',t.appendChild(l),(l=document.createElement("td")).innerHTML=`<div class="d-flex align-items-center">
<div class="flex-fill">
<div class="font-weight-medium">${e.NOMUSU}</div>
</div>
</div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-20"),l.innerHTML=`<div class="d-flex align-items-center">
<div class="flex-fill">
<div class="font-weight-medium">${e.DESOFI}</div>
</div>
</div>`,t.appendChild(l),(l=document.createElement("td")).classList.add("w-0"),l.style.display="none",l.value=e.IDUSUA,t.appendChild(l),(l=document.createElement("td")).classList.add("w-0"),l.style.display="none",l.value=e.IDOFIC,t.appendChild(l),s.appendChild(t)})},createPages=()=>{let e="<ul>";hasPrevUsers?e+="<li class='page-item previous no'><a href='/admin/cursos/turnos/usuarios/add/"+curso.IDCURS+"/"+turno.IDTURN+"?cursor="+JSON.stringify(cursor)+"&part="+document.getElementById("buscarUserBox").value+"&dir=prev' class='nav-link'>&#9664 Anterior</a>":e+="<li><a href='#' class='nav-link disabled'>&#9664 Anterior</a>",hasNextUsers?e+="<li class='page-item next no'><a href='/admin/cursos/turnos/usuarios/add/"+curso.IDCURS+"/"+turno.IDTURN+"?cursor="+JSON.stringify(cursor)+"&part="+document.getElementById("buscarUserBox").value+"&dir=next' class='nav-link'>Siguiente &#9654</a>":e+="<li><a href='#' class='nav-link disabled'>Siguiente &#9654</a>",e+="</ul>",document.getElementById("pagination-wrapper").innerHTML=e},addUsuarios=()=>{let t=[];document.querySelectorAll("input[type=checkbox]").forEach(e=>{e.checked&&t.push({IDUSUA:e.parentNode.parentNode.cells[3].value,IDOFIC:e.parentNode.parentNode.cells[4].value})}),document.getElementById("arrusu").value=JSON.stringify(t)},elemBuscar=document.getElementById("buscarUserBox"),elemAdd=(elemBuscar.onchange=e=>{setCookie("filtro",e.target.value,.5)},elemBuscar.value=getCookie("filtro"),document.getElementById("add"));elemAdd.setAttribute("action","/admin/cursos/turnos/usuarios/insert?part="+getCookie("filtro")),buildTable(orgList);