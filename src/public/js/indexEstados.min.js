/*! oporrak 2023-05-16 */
const cboO=document.getElementById("cboofi"),cboP=document.getElementById("cboper"),cboF=document.getElementById("cbofor"),desfec=document.getElementById("desfec"),desofi=document.getElementById("desofi"),desper=document.getElementById("desper"),dateISOToUTCString=e=>{var e=new Date(e),t=6e4*e.getTimezoneOffset();return new Date(e.getTime()-t).toISOString().slice(0,10)},setSuccess=e=>{var t=e.parentElement;t.querySelector(".invalid-feedback").innerText="",t.classList.add("is-valid"),e.classList.remove("is-invalid")},setError=(e,t)=>{var a=e.parentElement;a.querySelector(".invalid-feedback").innerText=t,e.classList.add("is-invalid"),a.classList.remove("is-valid")},yearMonthDayToUTCString=(e,t,a)=>{e=("000"+e).slice(-4),t=("0"+t).slice(-2),a=("0"+a).slice(-2),e=new Date(e+`-${t}-${a}T00:00:00`),t=6e4*e.getTimezoneOffset();return new Date(e.getTime()-t).toISOString().slice(0,10)},validate=()=>{var e=desfec.value.trim();return!isNaN(Date.parse(e))||(setError(desfec,"Fecha requerida"),setTimeout(function(){setSuccess(desfec)},3e3),!1)};desfec.value=(new Date).toISOString().slice(0,10),desofi.value=cboO[cboO.selectedIndex].text,desper.value=cboP[cboP.selectedIndex].text,cboO.addEventListener("change",e=>{document.getElementById("desofi").value=e.target.options[e.target.selectedIndex].text}),cboP.addEventListener("change",e=>{document.getElementById("desper").value=e.target.options[e.target.selectedIndex].text}),cboF.addEventListener("change",function(e){var t=new Date(document.querySelector("#desfec").value).getFullYear(),a=new Date(document.querySelector("#desfec").value).getMonth()+1;let n=new Date(yearMonthDayToUTCString(t,a,1)),c=n;if("1"===e.target.value){e=new Date(t,a,0).getDate();c=new Date(yearMonthDayToUTCString(t,a,e))}else{let e=new Date;e=new Date(document.querySelector("#desfec").value),c=0===e.getDay()?(e.setDate(e.getDate()+1),n=new Date(e),new Date(e.setDate(e.getDate()+4))):1===e.getDay()?((e=new Date(new Date(document.querySelector("#desfec").value))).setDate(e.getDate()+4),n=new Date(new Date(document.querySelector("#desfec").value)),e):(t=e.getDate()-e.getDay(),e.setDate(n.getDate()+t),n=new Date(e),new Date(e.setDate(e.getDate()+4)))}document.querySelector("#desde").value=n.toISOString().slice(0,10),document.querySelector("#hasta").value=c.toISOString().slice(0,10)}),desfec.addEventListener("change",function(e){var t=document.getElementById("cbofor").value,a=new Date(document.querySelector("#desfec").value).getFullYear(),n=new Date(document.querySelector("#desfec").value).getMonth()+1;let c=new Date(yearMonthDayToUTCString(a,n,1)),r=c;if("1"===t){t=new Date(a,n,0).getDate();r=new Date(yearMonthDayToUTCString(a,n,t))}else{let e=new Date;e=new Date(document.querySelector("#desfec").value),r=0===e.getDay()?(e.setDate(e.getDate()+1),c=new Date(e),new Date(e.setDate(e.getDate()+4))):1===e.getDay()?((e=new Date(new Date(document.querySelector("#desfec").value))).setDate(e.getDate()+4),c=new Date(new Date(document.querySelector("#desfec").value)),e):(a=e.getDate()-e.getDay(),e.setDate(c.getDate()+a),c=new Date(e),new Date(e.setDate(e.getDate()+4)))}document.querySelector("#desde").value=c.toISOString().slice(0,10),document.querySelector("#hasta").value=r.toISOString().slice(0,10)});