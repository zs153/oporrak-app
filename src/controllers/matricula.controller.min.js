/*! oporrak 2023-05-17 */
import*as DAL from"../models/matricula.model";const matricula=async(a,t)=>{a=a.body.context;try{var s=await DAL.find(a);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},matriculas=async(a,t)=>{a=a.body.context;try{var s=await DAL.find(a);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},crear=async(a,t)=>{var s={DESMAT:a.body.matricula.DESMAT,INIMAT:a.body.matricula.INIMAT,FINMAT:a.body.matricula.FINMAT,NOTMAT:a.body.matricula.NOTMAT,STAMAT:a.body.matricula.STAMAT},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},s=Object.assign(s,a);try{var o=await DAL.insert(s);t.status(200).json(o)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},modificar=async(a,t)=>{var s={IDMATR:a.body.matricula.IDMATR,DESMAT:a.body.matricula.DESMAT,INIMAT:a.body.matricula.INIMAT,FINMAT:a.body.matricula.FINMAT,NOTMAT:a.body.matricula.NOTMAT,STAMAT:a.body.matricula.STAMAT},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},s=Object.assign(s,a);try{var o=await DAL.update(s);t.status(200).json(o)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrar=async(a,t)=>{var s={IDMATR:a.body.matricula.IDMATR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},s=Object.assign(s,a);try{var o=await DAL.remove(s);t.status(200).json(o)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},usuariosMatricula=async(a,t)=>{a=a.body.context;try{var s=await DAL.usuariosMatricula(a);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},usuariosPendientes=async(a,t)=>{a=a.body.context;try{var s=await DAL.usuariosPendientes(a);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},crearUsuario=async(a,t)=>{var s={IDMATR:a.body.matricula.IDMATR},o={ARRUSU:a.body.usuarios.ARRUSU},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},s=Object.assign(s,o,a);try{var i=await DAL.insertUsuario(s);t.status(200).json(i)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarUsuario=async(a,t)=>{var s={IDMATR:a.body.matricula.IDMATR},o={IDUSUA:a.body.usuario.IDUSUA},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},s=Object.assign(s,o,a);try{var i=await DAL.removeUsuario(s);t.status(200).json(i)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}};export{matricula,matriculas,crear,modificar,borrar,usuariosMatricula,usuariosPendientes,crearUsuario,borrarUsuario};