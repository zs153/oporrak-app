/*! oporrak 2023-05-17 */
import*as DAL from"../models/curso.model";import oracledb from"oracledb";const curso=async(a,t)=>{a=a.body.context;try{var o=await DAL.find(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},cursos=async(a,t)=>{a=a.body.context;try{var o=await DAL.findAll(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crear=async(a,t)=>{var o={DESCUR:a.body.curso.DESCUR,DURCUR:a.body.curso.DURCUR,PONCUR:a.body.curso.PONCUR,NOTCUR:a.body.curso.NOTCUR,STACUR:a.body.curso.STACUR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,a);try{var s=await DAL.insert(o);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},modificar=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS,DESCUR:a.body.curso.DESCUR,DURCUR:a.body.curso.DURCUR,PONCUR:a.body.curso.PONCUR,NOTCUR:a.body.curso.NOTCUR,STACUR:a.body.curso.STACUR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,a);try{var s=await DAL.update(o);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrar=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,a);try{var s=await DAL.remove(o);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},turno=async(a,t)=>{a=a.body.context;try{var o=await DAL.turno(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},turnos=async(a,t)=>{a=a.body.context;try{var o=await DAL.turnos(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crearTurno=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={DESTUR:a.body.turno.DESTUR,INITUR:a.body.turno.INITUR,FINTUR:a.body.turno.FINTUR,INIHOR:a.body.turno.INIHOR,FINHOR:a.body.turno.FINHOR,LOCTUR:a.body.turno.LOCTUR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.insertTurno(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},modificarTurno=async(a,t)=>{var o={IDTURN:a.body.turno.IDTURN,DESTUR:a.body.turno.DESTUR,INITUR:a.body.turno.INITUR,FINTUR:a.body.turno.FINTUR,INIHOR:a.body.turno.INIHOR,FINHOR:a.body.turno.FINHOR,LOCTUR:a.body.turno.LOCTUR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,a);try{var s=await DAL.updateTurno(o);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarTurno=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={IDTURN:a.body.turno.IDTURN},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.removeTurno(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},matricula=async(a,t)=>{a=a.body.context;try{var o=await DAL.matricula(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},matriculas=async(a,t)=>{a=a.body.context;try{var o=await DAL.matriculas(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crearMatricula=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={DESMAT:a.body.matricula.DESMAT,INIMAT:a.body.matricula.INIMAT,FINMAT:a.body.matricula.FINMAT,NOTMAT:a.body.matricula.NOTMAT,STAMAT:a.body.matricula.STAMAT},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.insertMatricula(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},modificarMatricula=async(a,t)=>{var o={IDMATR:a.body.matricula.IDMATR,DESMAT:a.body.matricula.DESMAT,INIMAT:a.body.matricula.INIMAT,FINMAT:a.body.matricula.FINMAT,NOTMAT:a.body.matricula.NOTMAT,STAMAT:a.body.matricula.STAMAT},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,a);try{var s=await DAL.updateMatricula(o);t.status(200).json(s)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarMatricula=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={IDMATR:a.body.matricula.IDMATR},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.removeMatricula(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},usuarios=async(a,t)=>{a=a.body.context;try{var o=await DAL.usuarios(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},usuariosPendientes=async(a,t)=>{a=a.body.context;try{var o=await DAL.usuariosPendientes(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crearUsuario=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={arrusu:{val:a.body.usuarios.ARRUSU}},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.insertUsuario(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarUsuario=async(a,t)=>{var o={IDCURS:a.body.curso.IDCURS},s={IDUSUA:a.body.usuario.IDUSUA},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.removeUsuario(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},usuariosTurno=async(a,t)=>{a=a.body.context;try{var o=await DAL.usuariosTurno(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},usuariosTurnoPendientes=async(a,t)=>{a=a.body.context;try{var o=await DAL.usuariosTurnoPendientes(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crearUsuarioTurno=async(a,t)=>{var o={IDTURN:a.body.turno.IDTURN},s={TIPEST:a.body.tipo.TIPEST},r={ARRUSU:{type:"USRTYPE",val:a.body.usuarios.ARRUSU}},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,r,a);try{var n=await DAL.insertUsuarioTurno(o);t.status(200).json(n)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarUsuarioTurno=async(a,t)=>{var o={IDTURN:a.body.turno.IDTURN},s={IDUSUA:a.body.usuario.IDUSUA},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.removeUsuarioTurno(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},usuariosMatricula=async(a,t)=>{a=a.body.context;try{var o=await DAL.usuariosMatricula(a);t.status(200).json(o)}catch(a){return t.status(500).json({stat:null,msg:"Sin conexión con el servidor"})}},crearUsuarioMatricula=async(a,t)=>{var o={IDMATR:a.body.matricula.IDMATR},s={ARRUSU:{val:a.body.usuarios.ARRUSU}},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.insertUsuarioMatricula(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}},borrarUsuarioMatricula=async(a,t)=>{var o={IDMATR:a.body.matricula.IDMATR},s={IDUSUA:a.body.usuario.IDUSUA},a={USUMOV:a.body.movimiento.USUMOV,TIPMOV:a.body.movimiento.TIPMOV},o=Object.assign(o,s,a);try{var r=await DAL.removeUsuarioMatricula(o);t.status(200).json(r)}catch(a){t.status(500).json({stat:null,data:"Conexión no estableciada"})}};export{curso,cursos,crear,modificar,borrar,turno,turnos,crearTurno,modificarTurno,borrarTurno,matricula,matriculas,crearMatricula,modificarMatricula,borrarMatricula,usuarios,usuariosPendientes,crearUsuario,borrarUsuario,usuariosTurno,usuariosTurnoPendientes,crearUsuarioTurno,borrarUsuarioTurno,usuariosMatricula,crearUsuarioMatricula,borrarUsuarioMatricula};