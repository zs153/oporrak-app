/*! oporrak 2023-05-17 */
import oracledb from"oracledb";import{dbPool}from"../config/settings";const initialize=async()=>{await oracledb.createPool(dbPool)},close=(module.exports.initialize=initialize,async()=>{await oracledb.getPool().close(0)}),simpleExecute=(module.exports.close=close,(l,i=[],a={})=>new Promise(async(e,o)=>{let t;a.outFormat=oracledb.OBJECT,a.autoCommit=!0;try{e(await(t=await oracledb.getConnection()).execute(l,i,a))}catch(e){o(null)}finally{if(t)try{await t.close()}catch(e){console.error(e)}}}));module.exports.simpleExecute=simpleExecute;